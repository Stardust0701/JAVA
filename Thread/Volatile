https://www.ibm.com/developerworks/cn/java/j-jtp06197.html

对volatile变量,编译器和运行时不会将该变量上的操作与其他内存操作一起重排序,也不会被缓存在寄存器或者对其他处理器不可见的地方,而是直接同步到内存,
保证其他线程读取的时候返回最新写入的值。确切的说，volatile变量只保证可见性,对于自增或自减的操作并不能保证其原子性，因此不是线程安全的。
因此不要过多的依赖此对象，最好在满足以下全部三个条件的情况下才考虑使用：

          (a)对变量的写入不依赖当前变量的值,即所谓的不是自增或自减情况,或者可以保证只有单个线程对其更新

          (b)该变量不参与到不变性条件的判断

          (c)访问该变量时不用加锁

另一方面：当且仅当一个变量参与到包含其他状态变量的不变性条件时，才可以声明为volatile类型。
